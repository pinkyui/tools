/*
 * @license
 * Tools.js v1.0.0-alpha
 * Copyright (c) 2019-present Muhammad Nur Fuad (illvart).
 * https://illvart.com
 */
!function(e,t){"use strict";var n,r=[],i="",o=null;String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var u=function(e){return"string"==typeof e},a=function(e){return e===i},c=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l=function(e,n){return u(e)?t.querySelector(e):e.querySelector(n)},s=function(e,n){return u(e)?Array.prototype.slice.call(t.querySelectorAll(e)):Array.prototype.slice.call(e.querySelectorAll(n))},d=function(e,t){for(var n=arguments,r=[],i=arguments.length-2;i-- >0;)r[i]=n[i+2];return setTimeout.apply(void 0,[e,+t||0].concat(r))},f=function(e,t,r){var i,o;if(e)if(null!==(o=e)&&"object"==typeof o)for(n in e)c(e,n)&&t.call(r,e[n],n,e);else for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);return e},p=function(e){return String(e).split(i).reverse().join(i).replace(/(...)(?!$)/g,"$1,").split(i).reverse().join(i)},v={get:function(t,n){var r=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return r.open("GET",t,!0),r.onload=function(){n(this)},r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),r},post:function(t,n,r){var i=u(n)?n:Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"),o=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("POST",t,!0),o.onreadystatechange=function(){r(this)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i),o}},y=function(e){return l("#"+e+"-inout")},g=function(e){return l("#"+e+"-input")},h=function(e){return l("#"+e+"-output")},L=function(e){return l("#"+e+"-submit")},m=function(e){return l("#"+e+"-clear")},w=function(e){return l("#"+e+"-copy")},b=function(e){return l("#"+e+"-alert")},x=function(e){return l("#"+e+"-undo")},R=function(e){return l("#"+e+"-size")},E=function(e){return l("#"+e+"-options")},k=function(e){return l("#"+e+"-settings")},H=function(e){return l("#"+e+"-settings textarea")},T=function(e){return l("#"+e+"-download")},S=function(e){return l("#"+e+"-example")},q=function(e){return l("#"+e+"-example-btn")},M=function(e){return l("#"+e+"-upload")},O=function(e){return l("#"+e+"-load")},X=function(e){return l("#"+e+"-load-url")},j=function(e){return e.style.display="block"},A=function(e){return e.style.display="inline-block"},U=function(e){return e.style.display="none"},C=function(e){return"none"===e.style.display},F=function(e){return"inline-block"===e.style.display},P=function(e){return"block"===e.style.display},W=function(e){return e.disabled=!0},D=function(e){if(!0===e.disabled)return e.disabled=!1},I=function(e){return!0===e.checked},z=function(t,n,r){n=n||i,r=r||"text/plain",t.href=function(t,n){var r=new Blob([t],{type:n+";charset=utf-8"});return null!==o&&e.URL.revokeObjectURL(o),o=e.URL.createObjectURL(r)}(n,r)},B=function(t){e.scroll({behavior:"smooth",left:0,top:t.getBoundingClientRect().top+e.pageYOffset+-300})},$="scrollBehavior"in t.documentElement.style;function G(e,t,n){var r=(n=n||{}).type?n.type:null,i=n.content?n.content:null,o=n.param?" "+n.param:"",u=b(e);u.classList.add(r),u.innerHTML=i+o,j(u),d((function(){P(u)&&U(u),u.classList.contains(r)&&u.classList.remove(r)}),t)}e.tools=function(n,o,u){var c,d,Y,J,K;u=u||{},c=y(n),d=g(n);var N=c||d,Q=h(n),V=L(n),Z=m(n),_=w(n),ee=T(n),te=x(n),ne=b(n),re=R(n),ie=E(n),oe=k(n),ue=H(n),ae=S(n),ce=q(n),le=M(n),se=O(n),de=X(n);V.addEventListener("click",(function(){if(Y=N.value,a(Y))G(n,1500,{type:"warning",content:"Sorry, Input is empty!"});else{console.clear(),U(ne);try{J=o(Y),K=(Q||c).value=J,Y===K?D(V):(r.push(Y),W(V),A(te),function(e,t,n){if(e){j(e);var r=t.length-n.length,i=t.length?(100*r/t.length).toFixed(2):0;e.innerHTML="Original size: <strong>"+p(t.length)+" bytes</strong>.<br> Output size: <strong>"+p(n.length)+" bytes</strong>.<br> Saving: <strong>"+p(r)+" bytes ("+i+"%)</strong>.</span>"}}(re,Y,K),function(e,t){if(e){var n=e.getAttribute("data-download-type");A(e),t=t.replace(/\n/g,"\r\n"),z(e,t,n)}}(ee,K),$&&(c?B(c):Q&&B(Q)))}catch(e){return void(u.exception&&u.exception(e))}N.addEventListener("input",D.bind(null,V),!1)}}),!1),function(e,t,n,i,o,u){var c=h(e);t.addEventListener("click",(function(e){e.preventDefault();var l=r.pop();n.value=l,0===r.length&&U(t),u&&(U(u),z(u)),c&&a(c.value)?U(o):C(o)&&A(o),D(i)}))}(n,te,N,V,_,ee),function(e,n,r){var i=y(e),o=(g(e),h(e));i?i.addEventListener("input",(function(){a(i.value)?U(n):A(n)}),!1):o&&r.addEventListener("click",(function(){a(o.value)?U(n):A(n)}),!1),n.addEventListener("click",(function(e){e.preventDefault(),i?(i.focus(),i.select()):o&&(o.focus(),o.select()),t.execCommand&&(t.execCommand("copy"),$&&(i?B(i):o&&B(o)))}))}(n,_,V),function(e,t,n,r,o,u){var a=y(e),c=g(e),l=h(e);t.addEventListener("click",(function(){a?(a.value=i,a.focus()):l&&(l.value=i,c.value=i,c.focus()),D(n),F(r)&&U(r),o&&U(o),u&&(U(u),z(u))}),!1)}(n,Z,V,_,re,ee),function(e,t,n,r){(e||t||n)&&(e.addEventListener("click",(function(){I(e)?(D(r),j(t)):U(t)}),!1),n.addEventListener("input",(function(){P(t)&&D(r)}),!1))}(ie,oe,ue,V),function(e){var t=s(".tools-switch");t&&f(t,(function(t){t.addEventListener("click",D.bind(null,e),!1)}))}(V),ee&&z(ee),function(e,t,n,r){var i=l("[data-tools-expand]",e);if(i){var o=function(){i.style.height="auto",i.scrollHeight>460?i.style.height="460px":(i.style.height=i.scrollHeight+"px",i.style.maxHeight="460px")};i.addEventListener("input",o,!1),t.addEventListener("click",o,!1),n.addEventListener("click",o,!1),r.addEventListener("click",o,!1)}}(N,V,Z,te),function(e,t){if(e||t){var n=l("#tools-example-toggle",e);t.addEventListener("click",(function(){P(e)?(U(e),n.innerText="Show"):(j(e),n.innerText="Hide")}),!1)}}(ae,ce),function(t,n,r,i,o){if(l("[data-tools-drag]",t)&&e.FileReader){function u(e){e.stopPropagation(),e.preventDefault();var u=e.dataTransfer.files[0];if("drop"==e.type){if(u.type!=o.inputMimeType)G(n,5e3,{type:"warning",content:"Selected file is not a type file with extension <strong>"+o.inputHumanFormat+"</strong>"});else{var a=new FileReader;a.onload=function(e){A(r),D(i),t.value=e.target.result},a.readAsText(u)}u}}t.addEventListener("dragenter",u,!1),t.addEventListener("dragover",u,!1),t.addEventListener("drop",u,!1)}}(N,n,_,V,u),function(t,n,r,i,o,u){if(t&&e.FileReader){t.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0];if(t.type!=u.inputMimeType)G(r,5e3,{type:"warning",content:"Selected file is not a type file with extension <strong>"+u.inputHumanFormat+"</strong>"});else{var a=new FileReader;a.onload=function(e){A(i),D(o),n.value=e.target.result},a.readAsText(t)}t}),!1)}}(le,N,n,_,V,u),function(e,t,n,r,o,u,c){if(e||t){t.addEventListener("click",(function(){a(e.value)?G(r,1500,{type:"warning",content:"Sorry, Input URL is empty!"}):e.value.endsWith(c.urlExtension)?(n.value="Loading...",n.readOnly=!0,v.get("https://cors-anywhere.herokuapp.com/"+e.value,(function(e){n.readOnly=!1,A(o),D(u);var t=e.responseText;4===e.readyState&&200===e.status&&-1===t.toLowerCase().indexOf("error")?n.value=t:4===e.readyState&&(G(r,4e3,{type:"warning",content:"Something has gone wrong, maybe server busy or invalid URL? <br>Try again later."}),n.value=i)}))):G(r,4e3,{type:"warning",content:"Sorry URL is not a type file with extension or end with <strong>"+c.urlExtension+"</strong>"})}),!1)}}(se,de,N,n,_,V,u)},e.tools.alert=G}(window,window.document);
