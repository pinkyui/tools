/*
 * @license
 * Tools.js v1.0.0-alpha
 * Copyright (c) 2019-present Muhammad Nur Fuad (illvart).
 * https://illvart.com
 */
!function(e,t){"use strict";var n,r=[],i="",o=null;String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var a=function(e){return"string"==typeof e},u=function(e){return e===i},l=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c=function(e,n){return a(e)?t.querySelector(e):e.querySelector(n)},s=function(e,n){return a(e)?Array.prototype.slice.call(t.querySelectorAll(e)):Array.prototype.slice.call(e.querySelectorAll(n))},d=function(e,t){for(var n=arguments,r=[],i=arguments.length-2;i-- >0;)r[i]=n[i+2];return setTimeout.apply(void 0,[e,+t||0].concat(r))},f=function(e,t,r){var i,o;if(e)if(null!==(o=e)&&"object"==typeof o)for(n in e)l(e,n)&&t.call(r,e[n],n,e);else for(n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);return e},p=function(e){return String(e).split(i).reverse().join(i).replace(/(...)(?!$)/g,"$1,").split(i).reverse().join(i)},y={get:function(t,n){var r=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return r.open("GET",t,!0),r.onload=function(){n(this)},r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),r},post:function(t,n,r){var i=a(n)?n:Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&"),o=e.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("POST",t,!0),o.onreadystatechange=function(){r(this)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(i),o}},v=function(e){return c("#"+e+"-inout")},g=function(e){return c("#"+e+"-input")},h=function(e){return c("#"+e+"-output")},L=function(e){return c("#"+e+"-submit")},b=function(e){return c("#"+e+"-clear")},m=function(e){return c("#"+e+"-copy")},w=function(e){return c("#"+e+"-alert")},x=function(e){return c("#"+e+"-undo")},R=function(e){return c("#"+e+"-size")},E=function(e){return c("#"+e+"-options")},k=function(e){return c("#"+e+"-settings")},H=function(e){return c("#"+e+"-settings textarea")},T=function(e){return c("#"+e+"-download")},S=function(e){return c("#"+e+"-example")},q=function(e){return c("#"+e+"-example-btn")},M=function(e){return c("#"+e+"-upload")},O=function(e){return c("#"+e+"-load")},X=function(e){return c("#"+e+"-load-url")},j=function(e){return e.style.display="block"},A=function(e){return e.style.display="inline-block"},U=function(e){return e.style.display="none"},C=function(e){return"none"===e.style.display},F=function(e){return"inline-block"===e.style.display},P=function(e){return"block"===e.style.display},W=function(e){return e.disabled=!0},D=function(e){if(!0===e.disabled)return e.disabled=!1},I=function(e){return!0===e.checked},z=function(t,n,r){n=n||i,r=r||"text/plain",t.href=function(t,n){var r=new Blob([t],{type:n+";charset=utf-8"});return null!==o&&e.URL.revokeObjectURL(o),o=e.URL.createObjectURL(r)}(n,r)},B=function(t){e.scroll({behavior:"smooth",left:0,top:t.getBoundingClientRect().top+e.pageYOffset+-300})},$="scrollBehavior"in t.documentElement.style;function G(e,t){var n=(t=t||{}).type?t.type:null,r=!!t.delay.enable&&t.delay.enable,o=t.delay.duration?t.delay.duration:0,a=t.content?t.content:null,u=t.param?" "+t.param:"",l=w(e);P(l)||(l.classList.add(n),l.innerHTML=a+u,j(l));var c=function(){P(l)&&l.classList.contains(n)&&(U(l),l.innerHTML=i,l.classList.remove("warning","danger","info"))};!0===r&&d(c,o)}e.tools=function(n,o,a){var l,d,N,Y,J;a=a||{},l=v(n),d=g(n);var K=l||d,Q=h(n),V=L(n),Z=b(n),_=m(n),ee=T(n),te=x(n),ne=w(n),re=R(n),ie=E(n),oe=k(n),ae=H(n),ue=S(n),le=q(n),ce=M(n),se=O(n),de=X(n);V.addEventListener("click",(function(){if(N=K.value,u(N))G(n,{delay:{enable:!0,duration:1500},type:"warning",content:"Sorry, Input is empty!"});else{console.clear(),P(ne)&&U(ne);try{Y=o(N),J=(Q||l).value=Y,N===J?(D(V),G(n,{delay:{enable:!0,duration:5e3},type:"info",content:"Nice, your code already modified, maybe your code same output as this tool!"})):(r.push(N),W(V),A(te),function(e,t,n){if(e){j(e);var r=t.length-n.length,i=t.length?(100*r/t.length).toFixed(2):0;e.innerHTML="Original size: <strong>"+p(t.length)+" bytes</strong>.<br> Output size: <strong>"+p(n.length)+" bytes</strong>.<br> Saving: <strong>"+p(r)+" bytes ("+i+"%)</strong>.</span>"}}(re,N,J),function(e,t){if(e){var n=e.getAttribute("data-download-type");A(e),t=t.replace(/\n/g,"\r\n"),z(e,t,n)}}(ee,J),$&&(l?B(l):Q&&B(Q)))}catch(e){return void(a.exception&&a.exception(e))}K.addEventListener("input",D.bind(null,V),!1)}}),!1),function(e,t,n,i,o,a){var l=h(e);t.addEventListener("click",(function(e){e.preventDefault();var c=r.pop();n.value=c,0===r.length&&U(t),a&&(U(a),z(a)),l&&u(l.value)?U(o):C(o)&&A(o),D(i)}))}(n,te,K,V,_,ee),function(e,n,r){var i=v(e),o=(g(e),h(e));i?i.addEventListener("input",(function(){u(i.value)?U(n):A(n)}),!1):o&&r.addEventListener("click",(function(){u(o.value)?U(n):A(n)}),!1),n.addEventListener("click",(function(e){e.preventDefault(),i?(i.focus(),i.select()):o&&(o.focus(),o.select()),t.execCommand&&(t.execCommand("copy"),$&&(i?B(i):o&&B(o)))}))}(n,_,V),function(e,t,n,r,o,a){var u=v(e),l=g(e),c=h(e);t.addEventListener("click",(function(){u?(u.value=i,u.focus()):c&&(c.value=i,l.value=i,l.focus()),D(n),F(r)&&U(r),o&&U(o),a&&(U(a),z(a))}),!1)}(n,Z,V,_,re,ee),function(e,t,n,r){(e||t||n)&&(e.addEventListener("click",(function(){I(e)?(D(r),j(t)):U(t)}),!1),n.addEventListener("input",(function(){P(t)&&D(r)}),!1))}(ie,oe,ae,V),function(e){var t=s(".tools-switch");t&&f(t,(function(t){t.addEventListener("click",D.bind(null,e),!1)}))}(V),ee&&z(ee),function(e,t,n,r){var i=c("[data-tools-expand]",e);if(i){var o=function(){i.style.height="auto",i.scrollHeight>460?i.style.height="460px":(i.style.height=i.scrollHeight+"px",i.style.maxHeight="460px")};i.addEventListener("input",o,!1),t.addEventListener("click",o,!1),n.addEventListener("click",o,!1),r.addEventListener("click",o,!1)}}(K,V,Z,te),function(e,t){if(e||t){var n=c("#tools-example-toggle",e);t.addEventListener("click",(function(){P(e)?(U(e),n.innerText="Show"):(j(e),n.innerText="Hide")}),!1)}}(ue,le),function(t,n,r,i,o){if(c("[data-tools-drag]",t)&&e.FileReader){function a(e){e.stopPropagation(),e.preventDefault();var a=e.dataTransfer.files[0];if("drop"===e.type){if(a.type!=o.inputMimeType)G(n,{delay:{enable:!0,duration:5e3},type:"warning",content:"Selected file is not a type file with extension .<strong>"+o.inputHumanFormat+"</strong>"});else{var u=new FileReader;u.onload=function(e){A(r),D(i),t.value=e.target.result},u.readAsText(a)}a}}t.addEventListener("dragenter",a,!1),t.addEventListener("dragover",a,!1),t.addEventListener("drop",a,!1)}}(K,n,_,V,a),function(t,n,r,i,o,a){if(t&&e.FileReader){t.addEventListener("change",(function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0];if(t.type!=a.inputMimeType)G(r,{delay:{enable:!0,duration:5e3},type:"warning",content:"Selected file is not a type file with extension .<strong>"+a.inputHumanFormat+"</strong>"});else{var u=new FileReader;u.onload=function(e){A(i),D(o),n.value=e.target.result},u.readAsText(t)}t}),!1)}}(ce,K,n,_,V,a),function(e,t,n,r,o,a,l){if(e||t){t.addEventListener("click",(function(){u(e.value)?G(r,{delay:{enable:!0,duration:1500},type:"warning",content:"Sorry, Input URL is empty!"}):e.value.endsWith(l.urlExtension)?(n.value="Loading...",n.readOnly=!0,y.get("https://cors-anywhere.herokuapp.com/"+e.value,(function(e){n.readOnly=!1,A(o),D(a);var t=e.responseText;4===e.readyState&&200===e.status&&-1===t.toLowerCase().indexOf("error")?n.value=t:4===e.readyState&&(G(r,{delay:{enable:!0,duration:4e3},type:"warning",content:"Something has gone wrong, maybe server busy or invalid URL? <br>Try again later."}),n.value=i)}))):G(r,{delay:{enable:!0,duration:4e3},type:"warning",content:"Sorry URL is not a type file with extension or end with <strong>"+l.urlExtension+"</strong>"})}),!1)}}(se,de,K,n,_,V,a)},e.tools.alert=G}(window,window.document);
